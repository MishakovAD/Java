Обязательно решить проблему с кодировкой в MySQL, на данный момент не читается русский. (читается, проблема с консолью, другая программа работает) +

Сделать выбор Дел/поручений из БД, которые буду соответсвовать определеному айди, чтобы не сортировать целый массив данных, 
а еще не забыть про то, что некоторые могут быть уже выполнены +

Сделать так, чтобы пользователь видел только свои поручения +

Сделать так, что если документ не прикреплен, не выводился префикс, а писал: не заполнено (делается в jsp странице, путем проверки длины названия файла) сделано для сервера +

Сделать возможным счачивать excel файл для просмотра +

Для файйлов, которые для отчетности нужно поменять навание: типа: id_поручения-report-id_пользователя +

Сделать файл properties, чтобы из него грузились все настройки +

Реализовать редактирование Корреспонденции с обновлением в БД +

Проблема с принять/отказаться. Так как есть маршрут, то происходит путаница. Кажется, что в любом случае, есть маршрут или нет, он запускается. Это нужно исправить.
А еще, он почему то при согласии или нет назначает задание тому, кто согласился. Это странно. (Все из за "Тест маршрута". Остальные задания сами назначались.
эту часть закомментил и все работает нормально. А маршрут лучше реализовывать, как я задумал в WorkAddServlet) +

Везде проверить и сделать так, что бы a href стол снаружи button +

Есь смысл для дел/поручений сделать две отдельные страницы: кому поручил, поручено мне +

Реализовать возможность назначения дела без даты начала или даты окончания, чтобы можно было содавать его без сроков. (ставится другая дата автоматом) +

SAVE_DIR + SAVE_DIRECTORY так же сделать property (Вроде везде.ctrl+H не дал новых результатов) +

В таблицу к корреспонденции добавить резолюции к письму, если они есть +

Изменения в Таблицы Work и WorkWithTemplate . Добавлено новое поле. Поменять все запросы, а так же пересоздать таблицу (локально и на сервере) +

БАГ: при редактировании документа, он записывает на диск локального компьютера, значит не везде сделаны проперти! исправить! +

Переход к определенной странице +

Сделать поиск по столбцам +

При поиске конкретного номера письма, один раз работает хорошо, другой раз плохо. Скореевсего из-за реверса, 
надо сделать так, чтобы он переворачивал только при поиске. Либо просто поиск в обратно порядке. (просто отдельное обращение к бд. Можно исправить как-нибудь) +

Изменить оформление кнопки "Сортировать". Ее плохо видно +

Убрать редирект после добавления резолючии, и сделать редирект на входящую корреспонденцию +

Сделать возможность просмотра АБСОЛЮТНО всех и всем дел (архивные в том числе) +

Поиск по столбцам +

Ахрив дел для каждого, чтобы можно было смотреть историю принятых дел и выполненных дел (можно сделать еще две страницы) +

Сделать отдельно кнопку "Добавить дело" в выпадающем списке, и убрать ее из "Поручено мне" +

Сделать нумерацию резолюций +

Реализовать назначение дел группе людей сразу (или группе, или нескольким людям) +

Добавить доп. поле Контроль (см таблицы экселя) +

При поиске конкретного номера письма, один раз работает хорошо, другой раз плохо. Скореевсего из-за реверса, надо сделать так, чтобы он переворачивал только при поиске. Либо просто поиск в обратно порядке. +



Запросы на добавление групп, прав, должностей +/- (для админа можно сделать отдельную страницу, где через форму можно будет задавать это (НУЖНО РЕАЛИЗОВАТЬ))

Групы можно реализовать так: Добавить поле в БД группы, в которой записывать самую равернутую должность, а там уже градацию по правам делать програмно по спискугрупп+/-

Сделать так, чтобы заполнение даты было необязательным полем. И вообще проверить, какиеполя обязательные, а какие нет. В данном случае не будет работать редактирование записей, где есть дата. Так как 
там нужно получить значение даты, а это сделать невозможно. Нужно исправить этот момент, добавив проверку на null (по идее сделано, но надо протестить все) +/- 

В делах-поручениях в разделе "Кому поручил" можно реализовать кнопку "принять" (просто флаг, но можно и писать комментарии), и будет как отдельное поле, типа булеан
и если нажать отказаться, то сделать возможным оставить комментарий и исполнителю придет новое поручение с комментарием (опционально) (Комментарии не добавлены. 
Возможно сделать Комментарии при отказе от человека, и чтобы была видна вся переписка, мол такой то такой то отказал так то и так и так от всех) +/-

Сделать пагинацию на всех страницах, где будет много материала!(в делах/поручениях не сделано, но, может есть смысл просто сделать разные страницы, а еще для будущах страниц не забывать) +/- 

Везде сделать переадресацию на страницу с параметрами страницы (где нужно, в данной случае во входящей корреспонденции), иначе редиректит на главную. (не забывать прор будущие страницы) +/-

Сделать резолюции таблицей под таблицей (не таблица, а просто раскрывающееся поле) +/-

Сортировка таблицы, которая выводится (сделано по дате регистрации и порядковому номеру) (возможно стоит поменять все String на Date и решать так проблему) +/-

Поиск по содержимому Корреспонденции, дел и тд (резолюция тоже должна прикрепляться) (Корреспонденция готова) +/-

Когда будет исходящая корреспонденция, во входящей корреспонденции сделать возможность выбора (по айди, или номеру или еще чему) "Ответ на письмо..", 
либо во входящей сделать кнопочку: зарегестрировать ответ, и наоборот (во входящей добавлена такая возможность) +/- 












Заполнять excel файл и резолюцией (заполнение результата резолюции возможно только для одного пользователя (потому что перезаписывается ячейка). 
Лучше сделать отдельную таблицу резолюции либо продумать саму структуру БД) Можно просто заполнять все в одно поле.

Сделать ссылки на все письма (если по ним резолюция, или есть связь, между корреспонденциями)
Желательно видеть всю историю переписки(чтобы по входящему выводились все письма сразу)

Добавить дату выполнения поручения и сделать проверку, просрочил или нет.

Реализовать возможность при добавлении дел заполнения только одной фамилии (совсем не обязательно)

Кнока "отказаться" в делах, поручениях не исчезает.

Добавить поле isDeleted для проверки, удален или нет. И не удалять никакие записи, а ставить этот флаг (не зашла идея)

Показывает несуществующие файлы в делах, поручениях. Добавить проверку.

Дата регистрации, сделать так, чтобы если не поставили, то ноудэйт, в противном случае, можно ставить

Добавление резолюции сразу при регистрации входящей корреспонденции

При редактирование, дать возможность изменять прикрепленный файл

Слишком большие ссылки на скачивание excel файла и добавление корреспонденции (ну и что? не промахнешься)

Выход из аккаунта только с главной страницы.

Загрузка сразу нескольких файлов (!!!! c возможностью отслеживания истории, загрузки)

Настроить парсинг даты, чтобы когда брал из MySQL в html он выводил нормально дату (опционально)

Для дел/поручений реализована возможность поставить дело без даты, но там автоматом проставляется 2015 год (прописано в коде)
поэтому надо сделать проверку, которая будет смотреть и если дата дела совпадает с датой, проставленной в коде (1 января 2015 года)
то значит дело не имеет даты начала или конца.

Добавить поиск + контекстный поиск

Предпросмотр документов

Совещания добавить

***************************************************SearchList**************************************************************************************************
ПРИМЕЧАНИЕ-ЗАМЕТКА: 
Важно помнить, и не забывать, про то, что если вдруг что то сломается с Поиском во входящей(исходящей) корреспонденции (а именно с поимком по отдельным столбцам)
Например у разных пользователей будут не те результаты, у одного запрос другого, вероятно это из за того, что:
в классе SearchServlet вместо request.setAttribute("searchList", searchList); стоит request.getSession().setAttribute("searchList", searchList);
Таким образом, данные поиска передаются в сессию, а уже в классе ExportSearchListIntoExcel олучаются эти данные только благодаря сессии. (без сессии не получалось)
а так же в jsp IncomingMailSearchList этот массив получается через сессию. Т.е. на данный момент (28.08.2018) затрагиваются два класса и одна JSP
****************************************************************************************************************************************************************

***************************************************SearchListExportIntoExcelAndDownload**************************************************************************
ПРИМЕЧАНИЕ-ЗАМЕТКА: 
По задумке, после скачивания excel файла с сортированным листом, должен происходить редирект на страницу incomingMailList (строка 106 DownloadSearchListExcelServlet)
Там происходит редирект, но на деле, он просто качает файл и остается на той же странице. Вообще, все устраивает, просто если вдруг сломается, начинай смотреть там
НОВОЕ. Эта строка закоменчена, потому что из за нее вылетает ошибка комит бла бла. Без нее он так же остается на этой странице.
****************************************************************************************************************************************************************

ПРОФИЛИ ПОЛЬЗОВАТЕЛЕЙ:

Со своего профиля можно нажать редактировать на чужой странице. Убрать эту кнопку для всех, кроме себя

При редактировании своего профиля данные не сохраняются в БД (???), возможно сохраняются, но не обновляется мапа с профилями.

Навигация на странице пользователя

Сделать статистику для каждого пользователя (выполнил столько, просрочил столько и тд. ) А так же вести учет просроченных дел. (Нужно добавить доп поле, мол когда выполнил и сравнивать с тем, когда надо было


На данный момент при удалении входящей корреспонденции, происходит так: 
Удаляется из БД - Проверяется число записей в БД и число элементов в массиве ВходКорр (который в MainPage определен) - т.к. разные, то происходит запрос к БД и обновляется полностью массив
Лучше сделать просто удаление из БД и сразу удаление из массива (но может будут какие проблемы, протестиь)


НА БУДУЩЕЕ: Реализовать группы, и в каждой группе начальника
Для того, чтобы сделать поручение группе, можно сделать выборку всех людей из этой группы, найти начальника, и поручить ему, или сразу всем людям.	

Можно создать разные стартовые страницы для разных групп

Типы писем и отправителей можно сделать отдельной таблицей в БД, чтобы можно было добавлять новые



Следить за полем typeMail в делах-поручениях. Оно может быть null вместо null_null и тогда падает с ошибкой. Есть смысл добавить проверку.

При деплое на сервер, все пути в названии файлов меняются, так как длина пути на сервере и на компьютере до папки назначения разная. 
Нужно придумать, как реализовать это грамотно, чтобы не менять каждый раз

Придумать, как представить выбор шаблонов, чтобы было понятно, какой за что отвечает
	
Сделать так, чтобы маршруты были загружены сразу при старте приложения и из них можно было уже выбирать, а не эту фигню, которая сейчас




!!!Отладка багов С nullPointer и других!!!


**************
**************
Реализовать диаграмму Ганта (скорее всего придется немного переделать модель Дел и добавить некоторые поля, отвечающие за статус выполнения) 

Реализовать синхронизацию Excel и MySQL (если скачали excel  что то в нем изменили)

Реализовать замену старой версии файла excel на новую, если его залили на сервер и нажали (на синхронизацию) (придумать, как лучше это сделать)

Реализовать множественный выбор чего угодно для множественного удаления 
(множественный выбор возможно реализовать так: сделать дополнительное поле bollean в модели и если оно выбрано - велдоний)

Реализовать экспорт в excel с учетом выбранных полей, или всех записей
**************
**************

**************************************************************************************************************************************************
Переделать структуру проекта: в отдельном пакете должныть быть все классы, которые отвественны за разные моменты (Модель, Сервлеты, Класс для БД)
не нужно выносить все по разным пакетам (сейчас работа с БД в отдельном пакете)

Для дельнейшего развития корреспонденции можно определить интерфейс "Письма", в котором сразу написать все методы и уже его реализовывать
***************************************************************************************************************************************************

************** ПОИСК!!!!!!!!!!!!!!!!!!!!!!!!!!! ЕСЛИ ЗАТУПИЛ
**************
Для того, чтобы поиск работал корректно и каждый раз не думать, в самом начале есть строчка, которая проверяет реферУРЛ, и если нужно добавить какую то другую ссылку, то смотри туда
В SearchRobot count необходим для того, чтобы удалять лишние элементы, т.к. оиск-сортировка идет по нескольким полям. И при его нулевом значении мы сначала добавляем абсолютно
все значения из каждого поле, а потом идем по получившемуся списку и проверяем, соответствуют ли другие поля поиску.
**************
**************

	

ЕСЛИ ВДРУГ сломается загрузка файлов для корреспонденции, то нужно смотреть на чать кода, где part, fileName, filePath проверяются на null, так как на данный момент непонятно, почему это работает,
а с делами поручениями идет два раза по циклу и пишет туда null
а так же для дел поручений сейчас установлен максимум в колличесте 1000 штук! для изменения нужно поменять условие и добавить еще символов.
	

для ШАБЛОНОВ: возможно, есть смысл в массив добавить по порядку id ользователей, к которым должен попасть документ и выполнять проверку,
если один пользователь выполнил поручение, то оно переходит следующему по списку со всеми правками.
Скорее всего, нужно будет добавить к модели Дел еще одно поле типа: Маршрут - какой? если есть, то после выполнения, проверяет маршрут, если нет, то конец.
А так же, для маршрутов нужно реализовать историю действий, чтобы для следующего отображалась вся отчетность
ВОЗМОЖНО: для сохранения истории, можно будет проверять в jsp странице переменную, отвечающую за маршрут, и если она выставлена,
то в цикле дополнительно делать под заданием доп.блоки, которые будут отображать все предыдущие дела, плюс пропуск в конце	
!!!!Для дел.поручений по шаблону лучше всего сделать еще одну таблицу в БД и добюавлять записи туда, если есть поле (шаблон) и добавлять в обычную таблицу если его нет.
А так же в этой таблице должно быть отдельное поле, которое будет индексом для всего маршрута, чтобы можно было делать сортировку по нему. Типа первый маршрут добавился, и у него индекс - 1
второй -2 и тд. (workTemplateId) . И задавать его, при добавлении заданий пользователям, чтобы у всех пользователей одного маршрута был одинаковый индекс.
Так же нужно сделать проверку флага выполнения у первого пользователя и последующих, чтобы задание не добавлялось раньше времени другим, а еще реализовать возможность убрать эту функцию, если вдруг задание нужно дать сразу всем.
а еще флаг, которй будет отвечать за то, может ли видеть следующий пользователь отчеты предыдущего (по желанию)
типа: if(template != null) {
	создаем объект work, заполняем и добавляем в бд с шаблонами
} else {
	так же создаем объект work, но добавляем в обычную таблицу.
}	 
И так же выгрузку производить из разных таблиц

Перед релизом заменить в правилах или БД role на privileges или наоборот. В общем, сделать так, чтобы везде было все одинаково

!!!!!!!!!!!!Для добавления готового файла входящей корреспонденции необходимо создать лист incomingMail


	
	
	
	
ЗАМЕТКА ПРО СКАЧИВАНИЕ ФАЙЛОВ: 
в скачивании excel файла были удалены все проверки на несуществование файла и тд. и тп. Так же самой важной частью является str2 (имя файла) и root (отвечает за расположение папки)
таким образом, мы сами можем назначить любое расположение файлов, а так же имена файлов. Если не задавать жестко конкретное имя файла, то оно берется из параметра, после знака ? (пока не разобрался, как,
но это название так же записывается в str2. ,,,Скорее всего, там, где получаем методом getQueryString() почти в самом начале doPost). 
Так же в данном сервлете был исправлен косяк: пробел (%20) не декодировался обратно в пробел, а декодировался в "32". из-за чего
если в названии файла был проблем, то файл не качался. Исходный код (с исправленным багом и получение корня из property) лежит в DownloadServlet.
	
	
	



Для конфигурации нужно помнить про:
	Логин, пароль, адрес для подключения к БД
	Путь файлов, куда они будут скачиваться во всех сервлетах, которые могут скачивать файлы
	Путь файла excel, где он лежит
	конфигурация DownloadServlet в web.xml
	Про страницы jsp и substring, так как разный путь до файла имеет разную длину, отсюда следует, что может неверно отображаться адрес до документа и он не скачается
	СДЕЛАН ФАЙЛ property, НО!!! web.xml не меняется и;
	он лежит в E:\JavaProjectDocs и если поменять проперти в проекте, то там не изменится! Поэтому менять в самом файле! (сделал ссылку на файл в проект, и теперь меняя в одном месте, меняется везде)
		
	
	

*******************************************************************************************************************************************************************************************	
**************************************************************НАСТРОЙКА********************************************************************************************************************		
*******************************************************************************************************************************************************************************************	
1) Для деплоя на сервер необходимо проверить все пути к файлая в server property файле. Если все верно, то в пакете Property классе Property изменить проперти файл локальных настроек на 
проперти файл серверных.
2) Для корреспонденции на сервере должны быть:
Входящая, Исходящая, Внутренняя корреспонденция: файл экспорта из экселя (fileForExportInternalMail); файл, куда записываются данные (fileInternalMail); 
файл, куда записываются данный из поиска (fileInternalMailForSearchList). И все тоже самое для Incoming, Outgoing
2.1) Для экспорта есть отдельный проект differentExport, в нем так же есть проперти файл и там все задается. На данный момент (19.09.18) Все настроено и экспортируется. Не обошлось
и без велосиедов, т.к. Дату вводили, как угодно, форматы строк везде разные. Поэтому лучше начинать пользоваться программой с нуля и радоваться. Но данные экспортированы.
3) пока все.	
	
	
	
	